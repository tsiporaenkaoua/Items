openapi: 3.1.0
info:
  title: Starter TP API (un seul exemple complet: categories)
  version: "0.1.0"
servers:
  - url: http://localhost:3000/api
tags:
  - name: Categories
paths:
  /categories:
    get:
      summary: Liste des catégories
      tags: [Categories]
      responses:
        "200": { description: OK }
    post:
      summary: Crée une catégorie
      tags: [Categories]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties: { name: { type: string } }
              required: [name]
      responses:
        "201": { description: Créé }
  /categories/{id}:
    get:
      summary: Détail d'une catégorie
      tags: [Categories]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: integer }
      responses:
        "200": { description: OK }
        "404": { description: Not found }
    put:
      summary: Met à jour une catégorie
      tags: [Categories]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: integer }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties: { name: { type: string } }
      responses:
        "200": { description: OK }
    delete:
      summary: Supprime une catégorie
      tags: [Categories]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: integer }
      responses:
        "204": { description: Deleted }
